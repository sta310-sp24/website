{
  "hash": "4e4071ecab6a6bc0c1706b99ddc73f4b",
  "result": {
    "markdown": "---\ntitle: \"Lecture 08: Logistic regression\"\nsubtitle: \"Binomial responses and overdispersion\"\ndate: \"2024-02-07\"\nexecute: \n  warning: false\n  message: false\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(broom)\nlibrary(knitr)\n\n# add other packages as needed\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nrr <- read_csv(\"data/RR_Data_Hale.csv\")\n\nrr <- rr |>\n  mutate(pctYes = YesVotes/NumVotes, \n         emp_logit = log(pctYes / (1 - pctYes)), \n         inFavor = if_else(pctYes > 0.5, \"Yes\", \"No\"))\n```\n:::\n\n\n# Part 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrr_model <- glm(cbind(YesVotes, NumVotes - YesVotes) ~ distance + pctBlack, \n                data = rr, family = binomial)\n\ntidy(rr_model, conf.int = TRUE) |>\n  kable(digits = 3)\n```\n\n::: {.cell-output-display}\n|term        | estimate| std.error| statistic| p.value| conf.low| conf.high|\n|:-----------|--------:|---------:|---------:|-------:|--------:|---------:|\n|(Intercept) |    4.222|     0.297|    14.217|   0.000|    3.644|     4.809|\n|distance    |   -0.292|     0.013|   -22.270|   0.000|   -0.318|    -0.267|\n|pctBlack    |   -0.013|     0.004|    -3.394|   0.001|   -0.021|    -0.006|\n:::\n:::\n\n\n**Alternate model syntax**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrr_model_alt <- glm(pctYes ~ distance + pctBlack, data = rr, \n                    family = binomial, weight = NumVotes)\n\ntidy(rr_model_alt, conf.int = TRUE) |>\n  kable(digits = 3)\n```\n\n::: {.cell-output-display}\n|term        | estimate| std.error| statistic| p.value| conf.low| conf.high|\n|:-----------|--------:|---------:|---------:|-------:|--------:|---------:|\n|(Intercept) |    4.222|     0.297|    14.217|   0.000|    3.644|     4.809|\n|distance    |   -0.292|     0.013|   -22.270|   0.000|   -0.318|    -0.267|\n|pctBlack    |   -0.013|     0.004|    -3.394|   0.001|   -0.021|    -0.006|\n:::\n:::\n\n\n::: callout-note\n## Exercise 1\n\nInterpret the coefficient of distance in the context of the data.\n:::\n\n::: callout-note\n## Exercise 2\n\nUse a likelihood ratio test or drop-in-deviance test to determine if the interaction between `distance` and `pctBlack` should be added to the model.\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# code to test interaction\n```\n:::\n\n\n::: callout-note\n## Exercise 3\n\nUse the model selected in the previous exercise. Interpret the effect of the demographics for a community that is...\n\n-   Right on the proposed railroad (distance = 0)\n\n-   15 miles away from the proposed railroad (distance = 15)\n:::\n\n::: callout-note\n## Exercise 4\n\nConduct the appropriate test to assess if the model selected in Exercise 2 is good fit for the data.\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# code for goodness-of-fit test\n```\n:::\n\n\n# Part 2\n\n::: callout-note\n## Exercise 5\n\nFit the quasibinomial model. How did the coefficients change from the original model? How did the standard errors change?\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# code to fit quasibinomial model\n```\n:::\n\n\n::: callout-note\n## Exercise 6\n\nBased on the results from Exercise 5, what might be your next step in the analysis? If possible, conduct that step below.\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# code for next step\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}