{
  "hash": "ed25e04150d89bea1824c404a299ab67",
  "result": {
    "markdown": "---\ntitle: \"Lab 06: Adelie Penguins\"\nsubtitle: \"Logistic regression intro\"\nexecute:\n  freeze: auto\n  echo: true\n  eval: true\n  warning: false\n  message: false\nbibliography: references.bib\n---\n\n\n::: callout-important\nDue:\n\n-   Monday, November 07 , 11:59pm (Thursday labs)\n-   Tuesday, November 08, 11:59pm (Friday labs)\n:::\n\n## Introduction\n\nIn this assignment, you'll get to put into practice the logistic regression skills you've developed to analyze data about Palmer Penguins.\n\n### Learning goals\n\nBy the end of the lab you will be able to\n\n-   conduct exploratory data analysis for logistic regression\n-   fit logistic regression models and write the regression equation\n-   use the model to calculate predicted probabilities\n-   continue developing a collaborative workflow with your teammates\n\n## Getting started\n\n-   A repository has already been created for you and your teammates. Everyone in your team has access to the same repo.\n\n-   Go to the [sta210-fa22](https://www.github.com/sta210-fa22) organization on GitHub. Click on the repo with the prefix **lab-06**. It contains the starter documents you need to complete the lab.\n\n-   Each person on the team should clone the repository and open a new project in RStudio. Throughout the lab, each person should get a chance to make commits and push to the repo.\n\n## Workflow: Using Git and GitHub as a team\n\n::: callout-important\nThere are no Team Member markers in this lab; however, you should use a similar workflow as in Lab 04. Only one person should type in the group's Qmd file at a time. Once that person has finished typing the group's responses, they should *render, commit, and push* the changes to GitHub. All other teammates can *pull* to see the updates in RStudio.\n\nEvery teammate must have at least one commit in the lab. Everyone is expected to contribute to discussion even when they are not typing.\n:::\n\n## Packages\n\nThe following packages are used in the lab.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidymodels)\nlibrary(palmerpenguins)\nlibrary(knitr)\n\n# add other packages as needed\n```\n:::\n\n\n## Data: Palmer Penguins\n\nWe will go back to the Palmer penguins data used in [HW 02.](../hw/hw-02.html)\n\nData were collected and made available by [Dr. Kristen Gorman](https://www.uaf.edu/cfos/people/faculty/detail/kristen-gorman.php) and the [Palmer Station, Antarctica LTER](https://pal.lternet.edu/), a member of the [Long Term Ecological Research Network](https://lternet.edu/). [@gorman2014]\n\n\\\nThese data can be found in the **palmerpenguins** package. We're going to be working with the `penguins` dataset from this package. The dataset contains data for 344 penguins. There are 3 different species of penguins in this dataset, collected from 3 islands in the Palmer Archipelago, Antarctica. [Click here](https://allisonhorst.github.io/palmerpenguins/reference/penguins.html) to see the codebook.\n\nWe will focus on the following variables:\\\n\n| variable        | class   | description                                      |\n|:----------------|:--------|:-------------------------------------------------|\n| `species`       | integer | Penguin species (Adelie, Gentoo, Chinstrap)      |\n| `island`        | integer | Island where recorded (Biscoe, Dream, Torgersen) |\n| `bill_depth_mm` | integer | Bill depth in mm                                 |\n\n## Exercises\n\nThe goal of this analysis is to use logistic regression to understand the relationship between bill depth, island, and whether a penguin is from the Adelie species. First, we need to create a new response variable to identify whether a penguin is from the Adelie species.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins <- penguins |>\n  mutate(adelie = factor(if_else(species == \"Adelie\", 1, 0)))\n```\n:::\n\n\nAnd let's check to make sure the new variable looks how we would expect before we continue with the analysis.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |> \n  count(adelie, species)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 × 3\n  adelie species       n\n  <fct>  <fct>     <int>\n1 0      Chinstrap    68\n2 0      Gentoo      124\n3 1      Adelie      152\n```\n:::\n:::\n\n\n### Exercise 1\n\nLet's start by examining the relationship between `adelie` and `island`.\n\nVisualize the relationship between `adelie` and `island`. What is something you observe about the relationship between these two variables based on the plot?\n\n::: callout-tip\nIf you need inspiration, [click here](https://r-graph-gallery.com/48-grouped-barplot-with-ggplot2) for example plots and code to visualize the relationship between two categorical variables.\n:::\n\n### Exercise 2\n\nWhat does the `values_fill` argument do in the following chunk? The [documentation](https://tidyr.tidyverse.org/reference/pivot_wider.html) for the function will be helpful in answering this question.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |>\n  count(island, adelie) |>\n  pivot_wider(names_from = adelie, values_from = n, values_fill = 0)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 × 3\n  island      `0`   `1`\n  <fct>     <int> <int>\n1 Biscoe      124    44\n2 Dream        68    56\n3 Torgersen     0    52\n```\n:::\n:::\n\n\n### Exercise 3\n\n-   Calculate the **probability** a randomly selected penguin is from the Adelie species if it was recorded on Biscoe island.\n\n-   Calculate the **odds** a randomly selected penguin is from the Adelie species if it was recorded on Biscoe island.\n\n### Exercise 4\n\nYou want to fit a model using `island` to predict the odds of being from the Adelie species. Let $\\pi$ be the probability a penguin is from the Adelie species. The model has the form shown below.\n\n\n$$\n\\log\\Big(\\frac{\\pi}{1-\\pi}\\Big) = \\beta_0 + \\beta_1~ Dream + \\beta_2 ~ Torgersen\n$$\n\n\n-   Fit the model and neatly display the model output using three digits.\n\n<!-- -->\n\n-   What are the predicted **odds** of a penguin being from the Adelie species if it was recorded on Biscoe island?\n\n-   What are the predicted **odds** of a penguin being from the Adelie species if it was recorded on Dream island?\n\n### Exercise 5\n\nNext, we'd like to add bill depth to the model. We'll start by examining the relationship between these two variables.\n\nVisualize the relationship between `bill_depth_mm` and `adelie`. What is something you observe about the relationship between these two variables based on the plot?\n\n### Exercise 6\n\n-   Add bill depth to the previous model so that there are two predictors, `island` and `bill_depth_mm`. Neatly display the model output using three digits.\n\n-   Write the estimated regression equation.\n\n### Exercise 7\n\nUse the model from Exercise 6.\n\n-   How do you expect the **log-odds** of being from the Adelie species to change when going from a penguin with bill depth 17 mm to a penguin with bill depth 20 mm? Assume both penguins were recorded on the Dream island.\n\n-   How do you expect the **odds** of being from the Adelie species to change when going from a penguin with bill depth 17 mm to a penguin with bill depth 20 mm? Assume both penguins were recorded on the Dream island.\n\n### Exercise 8\n\nUse the model from Exercise 6.\n\n-   How do you expect the **log-odds** of being from the Adelie species to change when going from a penguin with bill depth 18 mm recorded on Biscoe island to a penguin with bill depth 21 mm recorded on Dream island?\n\n-   How do you expect the **odds** of being from the Adelie species to change when going from a penguin with bill depth 18 mm recorded on Biscoe island to a penguin with bill depth 21 mm recorded on Dream island?\n\n## Submission\n\n::: callout-warning\nBefore you wrap up the assignment, make sure all documents are updated on your GitHub repo. We will be checking these to make sure you have been practicing how to commit and push changes.\n\nRemember -- you must turn in a PDF file to the Gradescope page before the submission deadline for full credit.\n:::\n\nOne team member submit the assignment:\n\n-   Go to [http://www.gradescope.com](http://www.gradescope.com/) and log in using your NetID credentials.\n-   Click on your *STA 210* course.\n-   Click on the assignment, and you'll be prompted to submit it.\n-   Select all team members' names, so they receive credit on the assignment. [Click here](https://help.gradescope.com/article/m5qz2xsnjy-student-add-group-members) for video on adding team members to assignment on Gradescope.\n-   Mark the pages associated with each exercise. All of the pages of your lab should be associated with at least one question (i.e., should be \"checked\").\n-   Select the first page of your PDF submission to be associated with the *\"Workflow & formatting\"* section.\n\n## Grading\n\nTotal points available: 50 points.\n\n| Component             | Points |\n|-----------------------|--------|\n| Ex 1 - 8              | 45     |\n| Workflow & formatting | 5[^1]  |\n\n[^1]: The \"Workflow & formatting\" grade is to assess the reproducible workflow. This includes having at least one meaningful commit from each team member and updating the team name and date in the YAML.\n",
    "supporting": [
      "lab-06_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}